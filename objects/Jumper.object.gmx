<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>Collision</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>Enemy</parentName>
  <maskName>Collision</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Init
pre_h=0
pre_v=0
dismove=0
damage=2
Enemyhealth=10
immunity=0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///AI
if instance_exists(Player) {lastplayerx=Player.x lastplayery=Player.y}
//Player proximity
if point_distance(x,y,lastplayerx,lastplayery)&lt;500 and abs(lastplayerx-x)&gt;31
Cjump=1
else Cjump=0
//Player hit
if dismove&gt;0 dismove+=-1
else if place_meeting(x,y,Player)
{
    if Player.disroll=0
    {
        dismove=10
        pre_h=-pre_h
        pre_v+=-6
    }
}
//Hit by melee
if immunity&gt;0
immunity +=-1
else
if place_meeting(x,y,Attack)
{
    dismove=10
    pre_h=-lastmove*12
    pre_v+=-6
    Enemyhealth+=-2
    immunity=17
    global.screenshake+=1
}
//Hit by ranged
if not immunity&gt;0
if place_meeting(x,y,Projectile)
{
    dismove=10
    pre_h=-lastmove*12
    pre_v+=-6
    Enemyhealth+=-1
    immunity=8
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Movement+Collision
pre_v+=global.grav
if dismove=0
    if Cjump=1
        {
            if place_meeting(x,y+1,Wall)
            {
                pre_h=sign(lastplayerx-x)*7
                pre_v+=-8
            }
        }
    else pre_h=0
//x collision check
if place_meeting(x+pre_h,y,Wall)
{
    R=0;
    while (place_meeting(x+pre_h,y-R,Wall)) and R&lt;=abs(pre_h) R++
    if place_meeting(x+pre_h,y-R,Wall)
    {
        while (!place_meeting(x+sign(pre_h),y,Wall)) x+=sign(pre_h)
        pre_h=0
    }
    else
    y-=R
}
x+=pre_h
//y collision check
if place_meeting(x,y+pre_v,Wall)
{
    while (!place_meeting(x,y+sign(pre_v),Wall)) y+=sign(pre_v)
    pre_v=0
}
y+=pre_v
if pre_h!=0 lastmove=sign(pre_h)
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>Enemyhealth</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>3</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>203</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_kill_object</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
